!function(e,t){var a,o,r,s=(a=e.createElement("dummy").style,o="Webkit Moz O ms Khtml".split(" "),r={},function(e){if(void 0===r[e]){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+o.join(t+" ")+t).split(" ");for(var l in r[e]=null,n)if(void 0!==a[n[l]]){r[e]=n[l];break}}return r[e]}),i=function(e,t){var a,o;for(a in t)t.hasOwnProperty(a)&&null!==(o=s(a))&&(e.style[o]=t[a]);return e},c=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+t)};initXplain=function(a,o,r,u){navigator.userAgent.toLowerCase();var d=null!==s("transform"),f=null!==s("perspective"),m=function(){return!1};if(!d){var g=e.getElementById("fallbackmessage");return g&&i(g,{display:"block"}),{goto:m,prev:m,next:m,navigate:m,play:m,stop:m,reload:m,playing:m,share:m,enableloop:m,enableaudio:m,audioenabled:m,playmedia:m,gofullscreen:m,exitfullscreen:m,addEventListener:m,removeEventListener:m,animateTo:m,animateFromTo:m,set:m,slideDuration:m}}var b=t.location.hash;b.indexOf("?")>-1&&(b=b.substr(1,b.indexOf("?")-1));var v=0;t.location.href.indexOf("?autoplay=")>-1&&(v=parseFloat(t.location.href.substring(t.location.href.indexOf("?autoplay=")+10)));var h=e.getElementById("xplbackgroundbase"),y=e.getElementById("xplbackground"),k=e.getElementById("xplbase"),w=e.getElementById("xplcanvas"),x=Array.prototype.slice.call(e.getElementsByClassName("xplframe"));x.sort(function(e,t){var a=parseInt(c(e,"frameindex")),o=parseInt(c(t,"frameindex"));return a<o?-1:a>o?1:0});for(var j=0;j<x.length;j++)x[j].cx=c(x[j],"framecx"),x[j].cy=c(x[j],"framecy"),x[j].w=c(x[j],"framew"),x[j].h=c(x[j],"frameh"),x[j].r=c(x[j],"framer"),x[j].position=c(x[j],"frameposition"),x[j].duration=c(x[j],"frametrans"),x[j].zoomout=c(x[j],"framezoomout"),x[j].displayTime=c(x[j],"frameshow"),x[j].nextFrame=c(x[j],"framenext"),x[j].animateIn=[],x[j].animateOut=[],x[j].dirty=!0;var E=e.getElementById("xplplayercontrols");E&&d&&i(E,{display:"block"});var T,F,I=!1,L=!1,C=!1,B=(e.title,-1),N=4,M=1,S=0,V=0,H=0,O=60,W=0;tickerStartTime=.1;var z,A="",D=[],R=u?Math.abs(u):1,U=!!u&&u<=0,q=[],P={startX:0,startY:0,startTime:0,touchInit:!1},G=function(e,t,a){for(var o=0;o<q.length;o++)if(q[o].name==e)return q[o].handler(t,a)},X=function(){return E&&1!=c(E,"overlay")?E.offsetHeight:0},Z=function(e,t){if(e){var a=e.className;a=a.replace(" enabled","").replace(" disabled","")+(t?" enabled":" disabled"),e.className=a}},_=function(){Z(e.getElementById("xplplayerprev"),B>0&&L),Z(e.getElementById("xplplayernext"),ve()>-1&&L)},Y=function(t){Z(e.getElementById("xplplayerplay"),t&&L),Z(e.getElementById("xplplayerstop"),!t&&L),_()},K=function(){Z(e.getElementById("xplplayerloading"),!L)},J=function(e){var a=t.innerWidth/e.w,o=(t.innerHeight-X())/e.h,n=o>a?a:o;return"margin"==e.position&&(n*=.9),"fill"==e.position&&(n=o<a?a:o),n},Q=function(e){return e=e.replace(/[^\d]/g,""),isNaN(e)||e<1||e>x.count?0:e-1},$=function(e){var t=e.target;ne(t,!t.paused,t.duration,t.currentTime)},ee=function(e){var t=e.target;oe(t)},te=function(e,t){e.pauseSounds&&re(!1);var a=e.play();return a&&a.catch(function(e){console&&console.log(e.message)}),e.paused||(e.ducking>0&&le(e,parseFloat(100-e.ducking)/100),e.volume=e.defaultVolume?R*parseFloat(e.defaultVolume):R,t&&(e.addEventListener("timeupdate",$),e.addEventListener("ended",ee))),!e.paused},ae=function(e){e.paused||(e.pause(),e.ducking>0&&le(e,1),ne(e,!1,-1,-1))},oe=function(e){e.removeEventListener("timeupdate",$),e.removeEventListener("ended",ee),e.pause(),e.load(),e.ducking>0&&le(e,1),ne(e,!1,0,0)},ne=function(e,t,a,o){var n=e.parentElement.children[0],r=n.getElementsByTagName("path"),l=n.getElementsByTagName("ellipse"),s=n.getElementsByTagName("text"),c=r[0],u=r[1],p=l[2],d=s[0];if(e.buttons!=t&&(t?(i(c,{display:"none"}),i(u,{display:"block"})):(i(c,{display:"block"}),i(u,{display:"none"})),e.buttons=t),a>-1&&p)if(0==o)p.style.strokeDashoffset="0",d&&(d.textContent="");else try{if(p.style.strokeDashoffset=parseFloat(270.1-270.1*o/a)+"%",d){var f=parseInt(o/60),m=parseInt(o-f);d.textContent=f+":"+(m<10?"0"+m:m)}}catch(e){p.style.strokeDashoffset="0",d&&(d.textContent="")}},re=function(e){for(var t=0;t<D.length;t++)e?oe(D[t]):ae(D[t]);e&&(D=[])},le=function(t,a){for(var o=e.getElementsByTagName("audio"),n=R*(a>0?a:1e-4),r=0;r<o.length;r++)o[r].volume&&(o[r]==t?o[r].volume=o[r].defaultVolume?R*parseFloat(o[r].defaultVolume):R:o[r].volume=o[r].defaultVolume?n*parseFloat(o[r].defaultVolume):n)},se=function(t,a,o){a&&(R=a);for(var n=e.getElementsByTagName("audio"),r=0;r<n.length;r++)n[r].muted=!t,a&&n[r].volume&&(n[r].volume=n[r].defaultVolume?a*parseFloat(n[r].defaultVolume):a);U=!t,Z(e.getElementById("xplplayermute"),!U),Z(e.getElementById("xplplayerunmute"),U),ie(R),z&&(t?function(){if(z.paused)switch(A){case"start":te(z,!1);break;case"slide2":B>0&&te(z,!1);break;case"autoplay":case"autoplayonly":I&&te(z,!1)}}():z.pause());var l=e.getElementById("xplplayeraudioinfo");l&&(t&&"block"==l.style.display?l.parentNode.removeChild(l):o&&(l.animation=new TimelineLite,l.animation.fromTo(l,.3,{scale:.1},{scale:1},0),l.animation.fromTo(l,4,{opacity:1,display:"block"},{opacity:0,display:"none"},10)))},ie=function(t){var a=e.getElementById("xplplayervolume");if(a){var o=a.getElementsByClassName("range")[0],n=a.getElementsByClassName("bar")[0],r=a.getElementsByClassName("slider")[0];o.offsetWidth>o.offsetHeight?(i(n,{top:"",height:"",width:parseInt(o.offsetWidth*(U?0:t))+"px"}),i(r,{top:"",left:parseInt(o.offsetLeft+n.offsetWidth-r.offsetWidth/2)+"px"})):(i(n,{width:"",top:parseInt(o.offsetHeight-o.offsetHeight*(U?0:t))+"px",height:parseInt(o.offsetHeight*(U?0:t))+"px"}),i(r,{top:parseInt(o.offsetTop+n.offsetTop-r.offsetHeight/2)+"px",left:""}))}},ce=function(e){function t(e){for(j=0;j<e.length;j++){switch(e[j].kind){case"wait":break;case"hide":case"fadeout":case"scaleby":case"rotateby":case"moveto":case"moveby":case"movefrom":case"counttext":TweenLite.set(e[j].obj,{display:"block"});break;case"scale":TweenLite.set(e[j].obj,{display:0!=parseFloat(e[j].value1)?"block":"none"});break;case"play":var t=e[j].obj.children[1];t&&oe(t);break;default:TweenLite.set(e[j].obj,{display:"none"})}switch(e[j].kind){case"fadeout":TweenLite.set(e[j].obj,{opacity:e[j].orgo?e[j].orgo:1})}switch(e[j].kind){case"scale":var a=parseFloat(e[j].value1);if(0==a&&(a=parseFloat(e[j].orgs)/20),"SVG"==e[j].obj.tagName.toUpperCase())(new TimelineLite).to(e[j].obj,.001,{scale:a},0);else TweenLite.set(e[j].obj,{scale:a});case"scaleby":case"drag":TweenLite.set(e[j].obj,{scale:e[j].orgs?e[j].orgs:1})}switch(e[j].kind){case"moveleft":case"movetop":case"moveright":case"movebottom":case"moveto":case"moveby":TweenLite.set(e[j].obj,{left:e[j].orgx,top:e[j].orgy});break;case"movefrom":TweenLite.set(e[j].obj,{left:e[j].value1,top:e[j].value2});break;case"size":TweenLite.set(e[j].obj,{left:e[j].orgx,top:e[j].orgy,width:e[j].orgw,height:e[j].orgh})}}}for(var a=e;a<x.length;a++)x[a].dirty&&(t(x[a].animateIn),t(x[a].animateOut),x[a].dirty=!1);re(!0)},ue=function(e,a){a&&re(!0);var o=x[e]?a?x[e].animateIn:x[e].animateOut:null;if(o){a&&(x[e].dirty=!0);for(var r=new TimelineLite,l=0,s=0,i=0;i<o.length;i++)l=l<(s=parseFloat(o[i].duration)+parseFloat(o[i].delay>0?o[i].delay:-o[i].delay))?s:l;for(i=0;i<o.length;i++){var u=o[i].delay>=0?o[i].delay:l+parseFloat(o[i].delay),d=null;switch(o[i].ease.toLowerCase()){case"power1.easeout":d=CustomEase.create("Power1.EaseOut","M0,0,C0.104,0.204,0.492,1,1,1");break;case"power2.easeout":d=CustomEase.create("Power2.EaseOut","M0,0,C0.126,0.382,0.282,0.674,0.44,0.822,0.632,1.002,0.818,1,1,1");break;case"back.easeout":d=CustomEase.create("Back.EaseOut","M0,0,C0.128,0.572,0.257,1.016,0.512,1.09,0.672,1.136,0.838,1,1,1");break;case"elastic.easeout":d=CustomEase.create("Elastic.EaseOut","M0,0,C0,0,0.049,0.675,0.085,1.115,0.122,1.498,0.156,1.34,0.16,1.322,0.189,1.193,0.203,1.111,0.23,0.978,0.262,0.818,0.303,0.876,0.307,0.882,0.335,0.925,0.349,0.965,0.38,1.006,0.43,1.088,0.484,1.022,0.53,0.997,0.58,0.964,0.667,1.002,0.725,1.004,0.829,1.008,1,1,1,1");break;case"bounce.easeout":d=CustomEase.create("Bounce.EaseOut","M0,0 C0.14,0 0.242,0.438 0.272,0.561 0.313,0.728 0.354,0.963 0.362,1 0.37,0.985 0.414,0.873 0.455,0.811 0.51,0.726 0.573,0.753 0.586,0.762 0.662,0.812 0.719,0.981 0.726,0.998 0.788,0.914 0.84,0.936 0.859,0.95 0.878,0.964 0.897,0.985 0.911,0.998 0.922,0.994 0.939,0.984 0.954,0.984 0.969,0.984 1,1 1,1")}switch(o[i].kind){case"wait":r.to(o[i].obj,o[i].duration,{},u);break;case"show":r.to(o[i].obj,0,{display:"block"},u);break;case"hide":r.to(o[i].obj,0,{display:"none"},u);break;case"fadein":(f=o[i].obj.style.opacity)||(f=1),r.to(o[i].obj,0,{opacity:0,display:"block"},u),r.to(o[i].obj,o[i].duration,{opacity:f},u);break;case"fadeout":var f;resultVisible=!1,(f=o[i].obj.style.opacity)||(f=1),r.fromTo(o[i].obj,o[i].duration,{opacity:f},{opacity:0},u),r.to(o[i].obj,0,{display:"none"},parseFloat(o[i].duration)+parseFloat(u));break;case"stroke":if(r.to(o[i].obj,0,{display:"block"},u),I=(h=o[i].obj.children).length>0?h[0]:null)if(L=I.childNodes)for(p=0;p<L.length;p++)if("path"==L[p].tagName||"rect"==L[p].tagName||"ellipse"==L[p].tagName)switch(c(L[p],"type")){case"startcap":break;case"endcap":r.to(L[p],0,{visibility:"hidden"},0),r.to(L[p],0,{visibility:"visible"},parseFloat(o[i].duration)+parseFloat(u));break;default:r.fromTo(L[p],o[i].duration,{drawSVG:"0 0"},{drawSVG:"0% 100%"},u)}break;case"counttext":var m=parseInt(o[i].value1),g=parseInt(o[i].value2);if(p=o[i].obj.getElementsByTagName("p")[0],p||(p=o[i].obj.getElementsByTagName("li")[0]),p){function b(){var e=parseFloat(parseInt(p.number)+.11).toLocaleString(void 0,{minimumFractionDigits:2});p.innerHTML=e.substring(0,e.length-3)}p.number=m,r.to(p,o[i].duration,{number:g,onUpdate:b,ease:d},u)}break;case"typetext":function v(e,t){var a=e;e:for(;a;)if(t(a),a.firstChild)a=a.firstChild;else for(;a;){if(a===e)break e;if(a.nextSibling){a=a.nextSibling;continue e}a=a.parentNode}}var h=[],y=0;v(o[i].obj.querySelector("div"),function(e){e.nodeValue&&""!=e.nodeValue&&""!=e.nodeValue.trim()&&(h.push(e),y+=e.nodeValue.length),h.length>0&&("P"==e.tagName||"LI"==e.tagName||"DIV"==e.tagName)&&(h.push(null),y+=10)});var k=o[i].duration/y,j=0;for(r.to(o[i].obj,0,{display:"block"},u),n=0;n<h.length;n++)if(null!=h[n]){var E=h[n].nodeValue,T=parseFloat(u)+parseFloat(j),F=parseFloat(k*E.length);r.to(h[n],0,{text:""},u),r.to(h[n],F,{text:E},T),j=parseFloat(j+F)}else j=parseFloat(j+10*k);break;case"svgstroke":case"svgdraw":var I,L;if(r.to(o[i].obj,0,{display:"block"},u),I=(h=o[i].obj.children).length>0?h[0].contentDocument:null)if((L=I.querySelectorAll("path, line, polyline, polygon, rect, ellipse")).length>0){k=parseFloat(o[i].duration/L.length);for(p=0;p<L.length;p++){switch(o[i].kind){case"svgstroke":L[p].setAttribute("data-fill",L[p].getAttribute("fill")),L[p].setAttribute("fill","none"),r.fromTo(L[p],k,{drawSVG:"0 0"},{drawSVG:"0 100%",ease:d},u).call(function(e){e.setAttribute("fill",e.getAttribute("data-fill"))},[L[p]]);break;case"svgdraw":r.fromTo(L[p],k,{opacity:0},{opacity:1},u)}u+=k}}break;case"size":var C=parseFloat(o[i].orgx),B=parseFloat(o[i].orgy),N=parseFloat(o[i].value1),M=parseFloat(o[i].value2);N<0&&(C+=N,N=-N),M<0&&(B+=M,M=-M),r.to(o[i].obj,o[i].duration,{left:C,top:B,width:N,height:M,display:"block",ease:d},u);break;case"scale":var S=parseFloat(c(o[i].obj,"scale")),V=parseFloat(o[i].value1);0==V&&(V=S/20),0==(H=parseFloat(o[i].value2))&&(H=S),r.to(o[i].obj,0,{scale:V,display:"block"},u),r.fromTo(o[i].obj,o[i].duration,{scale:V},{scale:H,ease:d},u);break;case"scaleby":S=parseFloat(c(o[i].obj,"scale"));var H=parseFloat(o[i].value1);r.fromTo(o[i].obj,o[i].duration,{scale:S},{scale:H,ease:d},u);break;case"rotate":S=parseFloat(c(o[i].obj,"scale"));var O=parseFloat(c(o[i].obj,"rotate"));r.to(o[i].obj,0,{scale:S/20,display:"block"},u),r.fromTo(o[i].obj,o[i].duration,{scale:S/20,rotation:O-360},{scale:S,rotation:O,ease:d},u);break;case"rotateby":var W=(O=parseFloat(c(o[i].obj,"rotate")))+parseFloat(o[i].value1);r.fromTo(o[i].obj,o[i].duration,{rotation:O},{rotation:W,ease:d},u);break;case"drag":S=parseFloat(c(o[i].obj,"scale")),H=parseFloat(o[i].value1);r.to(o[i].obj,0,{display:"block"},0),r.fromTo(o[i].obj,o[i].duration,{scale:S},{scale:H},u);break;case"flash":case"dblflash":S=parseFloat(c(o[i].obj,"scale"));r.to(o[i].obj,0,{scale:S/20,display:"block"},u),"flash"==o[i].kind?r.fromTo(o[i].obj,o[i].duration,{scale:S/20},{scale:S},u):(r.fromTo(o[i].obj,o[i].duration/2,{scale:S/20},{scale:S},u),r.fromTo(o[i].obj,o[i].duration/2,{scale:S/20},{scale:S},parseFloat(u)+o[i].duration/2)),r.to(o[i].obj,0,{display:"none"},parseFloat(o[i].duration)+parseFloat(u));break;case"play":var z=o[i].obj.children[1];function A(e){var t=D[e];t&&te(t,!0)}z&&(D.push(z),r.to(o[i].obj,0,{onComplete:A,onCompleteParams:[D.indexOf(z)]},u));break;case"moveto":r.fromTo(o[i].obj,o[i].duration,{left:o[i].orgx,top:o[i].orgy},{left:o[i].value1,top:o[i].value2,ease:d},u);break;case"moveby":r.fromTo(o[i].obj,o[i].duration,{left:o[i].orgx,top:o[i].orgy},{left:parseFloat(o[i].orgx)+parseFloat(o[i].value1),top:parseFloat(o[i].orgy)+parseFloat(o[i].value2),ease:d},u);break;case"movefrom":r.fromTo(o[i].obj,o[i].duration,{left:o[i].value1,top:o[i].value2},{left:o[i].orgx,top:o[i].orgy,ease:d},u);break;default:var R=o[i].orgx,U=o[i].orgy,q=0,P=0,G=0,X=1;for(par=o[i].obj.parentElement;par&&par!=w;)G+=parseFloat(c(par,"rotate")),X*=parseFloat(c(par,"scale")),par=par.parentElement;G-=x[e].r,X/=J(x[e]);var Z=Math.sin(-G*Math.PI/180),_=Math.cos(-G*Math.PI/180),Y=t.innerWidth>t.innerHeight?t.innerWidth:t.innerHeight,K=Y;switch(o[i].kind){case"moveleft":q=R-_*Y*X,P=U-Z*Y*X;break;case"moveright":q=R+_*Y*X,P=U+Z*K*X;break;case"movetop":q=R-Z*Y*X,P=U-_*K*X;break;case"movebottom":q=R+Z*Y*X,P=U+_*K*X}r.to(o[i].obj,0,{left:q,top:P,display:"block"},u),r.to(o[i].obj,o[i].duration,{left:R,top:U,ease:d},u)}}return r}return null},pe=function(e,t,a){TweenLite.ticker.removeEventListener("tick",de),G("onmoved",e,x.length),a&&ue(e,!0)},de=function(){if(F){var e=parseInt(TweenLite.ticker.frame-W),t=TweenLite.ticker.time-tickerStartTime;if(e>5&&e/t<.9*O){O>20?(O-=5,TweenLite.ticker.fps(O)):TweenLite.ticker.removeEventListener("tick",de);var a=F.timeScale();a<1.5&&F.timeScale(1.07*a)}}},fe=function(a,o,n,l){z&&"slide2"==A&&a>0&&(te(z,!1),z.paused&&se(!1,R,!0),A="start"),l&&ce(a),G("onmoving",a,x.length),t.scrollTo(0,0),O=60,TweenLite.ticker.fps(O);var s=t.innerHeight-X();i(k,{top:s/2+(E&&1!=c(E,"overlay")&&0==E.offsetTop?E.offsetHeight:0)+"px"}),h&&i(h,{top:s/2+"px"});var u=a;B>-1&&(a>0||0==a&&B!=x.length-1)&&a<B&&(n=x[u=B].duration);var p=x[u]&&x[u].zoomout?x[u].zoomout:0,d=x[a]?J(x[a]):1,m=x[a]?-x[a].r:0,g=x[a]?-x[a].cx:0,v=x[a]?-x[a].cy:0;if(y)var j=c(y,"cw"),T=c(y,"ch"),I=c(y,"distance"),L=y.offsetWidth,C=y.offsetHeight,N=t.innerWidth/j,D=(t.innerHeight-X())/T,U=D>N?N:D,q=((d/U-1)/100*(100-1*I)+1)*U,P=-L/2+g/100*(100-I),Z=-C/2+v/100*(100-I);if(o){var Y="M0,0,C0.2,0,0.374,0.306,0.507,0.512,0.652,0.738,0.822,1,1,1",K="M0,0,C0.266,0.412,0.436,0.654,0.565,0.775,0.609,0.816,0.78,1,1,1",Q="M0,0,C0.434,0.004,0.79,0.698,1,1",$=Y,ee=Y;if((Math.abs(V-g)>100||Math.abs(H-v)>100)&&(d/M<.9||d/M>1.1)&&(p=.5),p>0){n*=1.3+p/3;var ae=1;d<M?$="M0,0,C0.2,0,0.1,"+(ae+=.3*p/(M/d-1))+",0.5,"+ae+",0.9,"+ae+",0.9,1,1,1":(d==M&&(d+=1e-5),$="M0,0,C0.1,0,0.1,-"+(ae=.3*p/(d/M-1))+",0.4,-"+ae+",0.9,-"+ae+",0.9,1,1,1")}else M<.9*d&&($=Q,ee=K),M>1.1*d&&($=K,ee=Q),S!=m&&Math.abs(V-g)<100&&Math.abs(H-v)<100&&($=Y,ee=Y),M>d&&M>.7*d&&Math.abs(S-m)<90&&M/d<2&&(ee=K);var oe=CustomEase.create("scale",$),ne=CustomEase.create("move",ee),re=CustomEase.create("rotate","M0,0,C0.496,0,0.609,0.272,0.7,0.5,0.786,0.716,0.822,1,1,1");(F=new TimelineLite).timeScale(1),TweenLite.ticker.addEventListener("tick",de),W=TweenLite.ticker.frame,tickerStartTime=TweenLite.ticker.time,y&&(f?F.to(h,n,{rotationZ:m,ease:re},0):F.to(h,n,{rotation:m,ease:re},0),F.to(h,n,{scale:q,ease:oe},0),F.to(y,n,{x:P,y:Z,ease:ne},0)),f?F.to(k,n,{rotationZ:m,ease:re},0):F.to(k,n,{rotation:m,ease:re},0),F.to(k,n,{scale:d,ease:oe},0),F.to(w,n,{x:g,y:v,ease:ne,onComplete:pe,onCompleteParams:[a,n,l]},0)}else y&&(f?TweenLite.set(h,{scale:q,rotationZ:m}):TweenLite.set(h,{scale:q,rotation:m}),TweenLite.set(y,{x:P,y:Z})),f?TweenLite.set(k,{scale:d,rotationZ:m}):TweenLite.set(k,{scale:d,rotation:m}),TweenLite.set(w,{x:g,y:v}),G("onmoved",a,x.length),l&&ue(a,!0);!function(t){for(var a=0;a<x.length;a++){var o=e.getElementById("xplthumb"+a);o&&(o.className=a==t?"active":"")}}(a),B=a,M=d,S=m,V=g,H=v,b="#"+(a+1),r&&(t.location.hash=b),_();var le=e.getElementById("xplplayerprogressindicator");le&&(i(le,o?{transition:n+"s ease"}:{transition:""}),i(le,{width:(a+1)/x.length*100+"%"}))},me=function(e,t,a,o){if(o&&B>-1&&e>B)var n=ue(B,!1);return n?n.eventCallback("onComplete",fe,[e,t,a,o]):fe(e,t,a,o),n},ge=function(e,t){if(e>-1&&e<x.length){var a=parseFloat(x[e].duration);return me(e,!0,a,t)}},be=function(){B>0&&ge(B-1,!0)},ve=function(){var e=-1;B>-1&&B<x.length&&x[B].nextFrame?e=parseInt(x[B].nextFrame):B<x.length-1?e=B+1:o&&(e=0);var t=G("onnextslide",e);return t>-1&&t<x.length&&(e=t),e},he=function(){var e=ve();e>-1&&(0==e&&ce(0),ge(e,!0))},ye=function(e,t){if(I||(Y(!1),!z||"autoplay"!=A&&"autoplayonly"!=A||te(z,!1)),I=!0,t&&t>0)N=t;else if(e||-1==(e=ve())&&(e=0),e>-1){0==e&&ce(0);var a=ge(e,!0);B=e,N=parseFloat(x[e].displayTime),a&&(N+=a.duration())}else N=0;if(N>0){for(j=0;j<x[B].animateIn.length;j++){var n=parseFloat(x[B].animateIn[j].delay)+parseFloat(x[B].animateIn[j].duration);n>N&&(N=n)}T=setTimeout(function(){function e(){N>0&&(B<x.length-1||o)?ye():ke()}if(L)e();else var t=0,a=setInterval(function(){t++,L&&(clearInterval(a),e()),t>600&&(clearInterval(a),e())},100)},1e3*N)}else ke()},ke=function(){clearTimeout(T),I=!1,Y(!0),z&&"autoplayonly"==A&&ae(z)},we=function(){var t,a=!0;e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||(a=!1),a!=C&&(t=!(C=a),Z(e.getElementById("xplplayergofullscreen"),t),Z(e.getElementById("xplplayerexitfullscreen"),!t),!C&&I&&ke())};if(a&&(e.addEventListener("keydown",function(e){(e.keyCode>=32&&e.keyCode<=34||e.keyCode>=37&&e.keyCode<=40)&&e.preventDefault()},!1),e.addEventListener("keyup",function(t){if(9===t.keyCode||t.keyCode>=32&&t.keyCode<=34||t.keyCode>=37&&t.keyCode<=40){switch(t.keyCode){case 33:case 37:case 38:I&&ke(),be();break;case 34:case 39:case 40:I&&ke(),he();break;case 32:I?ke():e.getElementById("xplplayerplay")&&ye()}t.preventDefault()}},!1),e.addEventListener("touchstart",function(e){P.startX=e.changedTouches[0].screenX,P.startY=e.changedTouches[0].screenY,P.startTime=(new Date).getTime(),P.touchInit||(P.touchInit=!0)},!1),e.addEventListener("touchend",function(e){var t=e.changedTouches[0].screenX-P.startX;(new Date).getTime()-P.startTime<200&&(t>30||t<-30)&&(t<-30?he():t>30&&be(),e.preventDefault())},!1)),t.addEventListener("resize",function(){ie(R),me(B,!1,.2,!1),we()},!1),t.addEventListener("hashchange",function(){t.location.hash!==b&&(b=t.location.hash,B=Q(b),ge(B,!0))},!1),d){h&&i(h,{display:"block"}),i(k,{display:"block"});var xe=Q(b),je=e.getElementsByClassName("xplitem");for(j=0;j<je.length;j++){f&&i(je[j],{transform:"scale3d("+c(je[j],"scale")+","+c(je[j],"scale")+",1) rotateZ("+c(je[j],"rotate")+"deg)"});var Ee=c(je[j],"framein");if(Ee){var Te=Ee.split(";");for(l=0;l<Te.length;l++){var Fe=Te[l].split(","),Ie=new Object;Ie.obj=je[j],Ie.kind=Fe[1],Ie.value1=Fe[2],Ie.value2=Fe[3],Ie.duration=Fe[4],Ie.delay=Fe[5],Ie.ease=Fe[6],Ie.step=Fe[7],"SVG"==Ie.obj.tagName.toUpperCase()?(Ie.orgx=Ie.obj.style.left,Ie.orgy=Ie.obj.style.top,Ie.orgw=Ie.obj.style.width,Ie.orgh=Ie.obj.style.height):(Ie.orgx=Ie.obj.offsetLeft,Ie.orgy=Ie.obj.offsetTop,Ie.orgw=Ie.obj.offsetWidth,Ie.orgh=Ie.obj.offsetHeight),Ie.orgs=c(Ie.obj,"scale"),Ie.orgo=Ie.obj.style.opacity,x[parseInt(Fe[0])].animateIn.push(Ie)}}var Le=c(je[j],"frameout");if(Le){var Ce=Le.split(";");for(l=0;l<Ce.length;l++){var Be=Ce[l].split(","),Ne=new Object;Ne.obj=je[j],Ne.kind=Be[1],Ne.value1=Be[2],Ne.value2=Be[3],Ne.duration=Be[4],Ne.delay=Be[5],Ne.ease=Be[6],"SVG"==Ne.obj.tagName.toUpperCase()?(Ne.orgx=Ne.obj.style.left,Ne.orgy=Ne.obj.style.top,Ne.orgw=Ne.obj.style.width,Ne.orgh=Ne.obj.style.height):(Ne.orgx=Ne.obj.offsetLeft,Ne.orgy=Ne.obj.offsetTop,Ne.orgw=Ne.obj.offsetWidth,Ne.orgh=Ne.obj.offsetHeight),Ne.orgs=c(Ne.obj,"scale"),Ne.orgo=Ne.obj.style.opacity,x[parseInt(Be[0])].animateOut.push(Ne)}}}return function(){for(var t=e.getElementsByClassName("xplitem audio"),a=0;a<t.length;a++){var o=c(t[a],"source"),n=c(t[a],"ducking"),r=new Audio;r.ducking=n||0,r.pauseSounds=c(t[a],"pause"),r.muted=U,"blob:"==o.substring(0,5)?r.src=xplainMediaFiles[parseInt(o.substring(5))]:r.src=o,t[a].appendChild(r)}var l=c(k,"bgaudiosource");l&&""!=l&&(A=c(k,"bgaudiostart"),(z=new Audio).style.display="none",z.muted=U,z.loop="1"==c(k,"bgaudioloop"),z.defaultVolume=c(k,"bgaudiovol"),z.defaultVolume&&(z.volume=parseFloat(z.defaultVolume)),"blob:"==l.substring(0,5)?z.src=xplainMediaFiles[parseInt(l.substring(5))]:z.src=l,k.appendChild(z),"start"==A&&(te(z,!1),z.paused&&(se(!1,R,!0),te(z,!1))));var s=e.getElementById("xplplayervolume");if(s){function i(e){var t=s.getElementsByClassName("range")[0],a=1,o=function(e){var t=0,a=0;do{t+=e.offsetTop||0,a+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:a}};if(t.offsetWidth>t.offsetHeight){var n=e.pageX-o(t).left;n<0&&(n=0),n>t.offsetWidth&&(n=t.offsetWidth),a=n/t.offsetWidth}else{var r=e.pageY-o(t).top;r<0&&(r=0),r>t.offsetHeight&&(r=t.offsetHeight),a=1-r/t.offsetHeight}xplain.enableaudio(a>.01,a)}function u(e){i(e)}s.addEventListener("mousedown",function(e){i(e),s.addEventListener("mousemove",u,!1)},!1),s.addEventListener("mouseup",function(e){s.removeEventListener("mousemove",u)},!1),s.addEventListener("mouseleave",function(e){s.removeEventListener("mousemove",u)},!1),se(!U,R,U)}}(),ce(xe),me(xe,!1,0,!0),Y(!1),_(),K(),function(t){function a(){L=!0,Y(!I),_(),K(),n&&i(n,{width:(B+1)/x.length*100+"%"})}var o=t.length;if(0==o)a();else for(var n=e.getElementById("xplplayerprogressindicator"),r=0;r<t.length;r++){var l=new Image;l.onload=function(){--o,n&&i(n,{width:(t.length-o+1)/t.length*100+"%"}),o<=0&&a()},l.onerror=l.onload,l.src=t[r].src}}(w.getElementsByTagName("img")),v>0&&ye(1,v),we(),{goto:ge,prev:be,next:he,navigate:function(e){I&&ke(),e<0?be():he()},play:ye,stop:ke,reload:function(){ye(0,0)},playing:function(){return I},share:function(a){var o=e.title,n=t.location;switch(a){case"facebook":t.open("https://www.facebook.com/sharer.php?u="+encodeURI(n),"_blank");break;case"twitter":t.open("https://twitter.com/intent/tweet/?text="+encodeURIComponent(o),"_blank");break;case"linkedin":t.open("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURI(n)+"&title="+encodeURIComponent(o),"_blank");break;case"xing":t.open("https://www.xing.com/social_plugins/share?url="+encodeURI(n),"_blank");break;case"email":t.location.href="mailto:?subject="+encodeURIComponent(o)+"&body="+encodeURI(n)}},enableloop:function(e){o=e},enableaudio:se,audioenabled:function(){return!U},playmedia:function(t,a,o,n){var r="string"==typeof t?e.getElementById(t):t;if(r){var l=r.children.length>1?r.children[1]:null;if(l)switch(a||(n=!1,a=l.paused?"play":"pause"),l.tagName.toLowerCase()){case"audio":switch(a){case"play":se(!0),o&&(l.currentTime=o);var s=te(l,!0);return s&&!n&&D.push(l),s;case"pause":ae(l);break;case"stop":oe(l)}}}},gofullscreen:function(){var t=e.body;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitfullscreen:function(){e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()},addEventListener:function(e,t){var a=new Object;a.name=e,a.handler=t,q.push(a)},removeEventListener:function(e,t){for(var a=0;a<q.length;a++)q[a].name==e&&q[a].handler==t&&q.splice(a,1)},animateTo:TweenLite.to,animateFromTo:TweenLite.fromTo,set:TweenLite.set,slideDuration:function(e){return(e="last")&&(e=x.length-1),x[e].displayTime}}}}}(document,window);